<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Journal Entry</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Edit Journal Entry</h1>
        <form method="POST" action="{{ url_for('edit_journal', id=journal.id) }}">
            <!-- Date -->
            <div class="mb-3">
                <label for="date" class="form-label">Date</label>
                <input type="date" class="form-control" id="date" name="date" value="{{ journal.date }}" required>
            </div>

            <!-- Description -->
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3" required>{{ journal.description }}</textarea>
            </div>

            <!-- DR/CR -->
            <div class="mb-3">
                <label for="dr_cr" class="form-label">DR/CR</label>
                <select id="dr_cr" name="dr_cr" class="form-control" required>
                    <option value="DR" {% if journal.dr_cr == 'DR' %}selected{% endif %}>DR</option>
                    <option value="CR" {% if journal.dr_cr == 'CR' %}selected{% endif %}>CR</option>
                </select>
            </div>

            <!-- Account Type -->
            <div class="mb-3">
                <label for="account_type" class="form-label">Account Type</label>
                <select id="account_type" name="account_type" class="form-control" required>
                    <option value="assets" {% if journal.account_type == 'assets' %}selected{% endif %}>Assets</option>
                    <option value="liabilities" {% if journal.account_type == 'liabilities' %}selected{% endif %}>Liabilities</option>
                    <option value="equity" {% if journal.account_type == 'equity' %}selected{% endif %}>Equity</option>
                    <option value="expenses" {% if journal.account_type == 'expenses' %}selected{% endif %}>Expenses</option>
                    <option value="income" {% if journal.account_type == 'income' %}selected{% endif %}>Income/Revenue</option>
                </select>
            </div>

            <!-- Account No. -->
            <div class="mb-3">
                <label for="account_no" class="form-label">Account No.</label>
                <input type="text" id="account_no" name="account_no" class="form-control" value="{{ journal.account_no }}" required>
            </div>

            <!-- Sub Account -->
            <div class="mb-3">
                <label for="sub_account" class="form-label">Sub Account</label>
                <select id="sub_account" name="sub_account" class="form-control" required>
                    <optgroup label="Asset Sub-Accounts">
                        <option value="cash_in_bank" {% if journal.sub_account == 'cash_in_bank' %}selected{% endif %}>Cash in bank</option>
                        <option value="accounts_receivable" {% if journal.sub_account == 'accounts_receivable' %}selected{% endif %}>Accounts receivable</option>
                        <option value="inventory" {% if journal.sub_account == 'inventory' %}selected{% endif %}>Inventory</option>
                        <option value="equipment" {% if journal.sub_account == 'equipment' %}selected{% endif %}>Equipment</option>
                        <option value="pp&e" {% if journal.sub_account == 'pp&e' %}selected{% endif %}>Property, Plant, and Equipment (PP&E)</option>
                    </optgroup>
                    <optgroup label="Liability Sub-Accounts">
                        <option value="accounts_payable" {% if journal.sub_account == 'accounts_payable' %}selected{% endif %}>Accounts payable</option>
                        <option value="salaries_payable" {% if journal.sub_account == 'salaries_payable' %}selected{% endif %}>Salaries payable</option>
                        <option value="unearned_revenue" {% if journal.sub_account == 'unearned_revenue' %}selected{% endif %}>Unearned revenue</option>
                        <option value="sales_tax_payable" {% if journal.sub_account == 'sales_tax_payable' %}selected{% endif %}>Sales tax payable</option>
                    </optgroup>
                    <optgroup label="Expense Sub-Accounts">
                        <option value="rent_expense" {% if journal.sub_account == 'rent_expense' %}selected{% endif %}>Rent expense</option>
                        <option value="utilities_expense" {% if journal.sub_account == 'utilities_expense' %}selected{% endif %}>Utilities expense</option>
                        <option value="salaries_and_wages_expense" {% if journal.sub_account == 'salaries_and_wages_expense' %}selected{% endif %}>Salaries and wages expense</option>
                        <option value="marketing_expense" {% if journal.sub_account == 'marketing_expense' %}selected{% endif %}>Marketing expense</option>
                        <option value="travel_expenses" {% if journal.sub_account == 'travel_expenses' %}selected{% endif %}>Travel expenses</option>
                    </optgroup>
                    <optgroup label="Revenue Sub-Accounts">
                        <option value="sales_revenue" {% if journal.sub_account == 'sales_revenue' %}selected{% endif %}>Sales revenue</option>
                        <option value="service_revenue" {% if journal.sub_account == 'service_revenue' %}selected{% endif %}>Service revenue</option>
                        <option value="interest_income" {% if journal.sub_account == 'interest_income' %}selected{% endif %}>Interest income</option>
                        <option value="dividend_income" {% if journal.sub_account == 'dividend_income' %}selected{% endif %}>Dividend income</option>
                    </optgroup>
                    <optgroup label="Equity Sub-Accounts">
                        <option value="retained_earnings" {% if journal.sub_account == 'retained_earnings' %}selected{% endif %}>Retained earnings</option>
                        <option value="share_capital" {% if journal.sub_account == 'share_capital' %}selected{% endif %}>Share capital</option>
                        <option value="additional_paid_in_capital" {% if journal.sub_account == 'additional_paid_in_capital' %}selected{% endif %}>Additional paid-in capital</option>
                    </optgroup>
                </select>
            </div>

            <!-- Amount -->
            <div class="mb-3">
                <label for="amount" class="form-label">Amount</label>
                <input type="number" class="form-control" id="amount" name="amount" step="0.01" value="{{ journal.amount }}" required>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="{{ url_for('journals') }}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>